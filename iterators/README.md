# Go Iterators

## Основные понятия и концепции

- Ошибка на единицу (англ. **off-by-one error**) — логическая ошибка в алгоритме (или в математических вычислениях), когда количество итераций пошагового цикла оказывается на единицу меньше или больше необходимого.

До `Go 1.23` мы могли использовать `for range` для итерации по мапам, слайсам, массивам, строкам, каналам и целочисленным последовательностям.

- [`ForRange`](./for_range/main.go)

`for range` решение **off-by-one error**.

> **Как итерироваться по более сложной последовательности данных?** (Например, представленной в виде дерева, односвязного списка ...)

**Паттерн «Итератор» (Iterator)** — поведенческий паттерн проектирования, который предоставляет последовательный доступ ко всем элементам составного объекта, не раскрывая его внутреннего представления.

- [`Iterator Pattern #1`](./iterator_pattern/collection/main.go)
- [`Iterator Pattern #2`](./iterator_pattern/linked_list/main.go)

**В Go 1.23 появились итераторы**

Итератор в Go 1.23 — это функция, которая последовательно проходит через элементы последовательности и отправляет их в функцию обратного вызова, обычно называемую yield. Функция останавливается, когда достигает конца последовательности или когда yield сигнализирует о раннем прекращении, возвращая false.

- [`IterRange #1`](./std_iterators/iter_range/main.go)

Параметр функции называется `yield` по соглашению - само имя не имеет значения. `yield` может иметь `0,1,2` параметра и должна возвращать `bool`

- [`IterRange #2`](./std_iterators/iter_range_variations/main.go)

**Результат функции `yield` обязателен к проверке, чтобы отлавливать ранние выходы из `range`**

Если не проверять ранний выход, то происходит паника
- [`IterPanic`](./std_iterators/no_yield_handle/main.go)

```shell
panic: runtime error: range function continued iteration after function for loop body returned false
```

## Примеры использования

## Особенности и ньюансы

### Pull/Push iterators
### Бенчмарки с итераторами
### Рекурсивные итераторы
### Конкурентные итераторы
### Паники с итераторами
### Naming conventions

## Внутреннее устройство